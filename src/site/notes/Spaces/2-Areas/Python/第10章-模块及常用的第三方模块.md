---
{"dg-publish":true,"dg-path":"Python/第10章-模块及常用的第三方模块.md","permalink":"/Python/第10章-模块及常用的第三方模块/"}
---

# 一、模块
## 1.模块的简介
1. 在Python中一个后缀名为.py的Python文件就是一个模块
2. 模块中可以定义函数、类等
3. 模块也可以避免函数、类、变量等名称相冲突的问题。
4. 模块不仅提高了代码的可维护性，同时还提高了代码的可重用性
5. 在给模块命名的时候要求全部使用小写字母，多个单词之间使用下划线进行分隔。
6. 如果自定义模块名称与系统内置模块名称相同，那么在导入时会优先导入自定义的模块。
## 2.自定义模块
- **系统内置模块**：由开发人员编写好的模块，在安装Python解释器时一同安装到计算机
- **自定义模块**：一个以.py结尾的文件就是一个模块，新建Python文件，实际上就是在新建模块

<big>**自定义模块的作用**：</big>
1. 一是规范代码，将功能相同的函数、类等封装到一个模块中，让代码更易于阅读，
2. 另外一个目的与系统内置模块相同，即可以被其它模块调用，提高开发的效率。
## 3.模块的导入
模块编写完成就可以被其它模块进行**调用**并使用被调用模块中的功能

**import导入方式的语法结构**：
```python
import 模块名称 [as 别名]
```
**from...import导入方式的语法结构**：
```python
from 模块名称 import 变量/函数/类/*
```
**注**：
1. 上述\*表示导入这个模块的所有，这个\*叫通配符
2. 当你在使用from...import导入的变量、函数或者类的时候，就不需要加上模块名作前缀了，直接启用变量、函数或者类就可以了
3. 一次导入多个模块时，模块之间使用英文的逗号分隔
4. 如果导入的两个模块中，它们都有相同的函数，此时，后导入的模块当中的函数会将前面导入的模块当中的函数覆盖，这个时候只能使用模块名打点调用
# 二、Python中的包
1. 含有\_\_init\_\_.py文件的文件夹（目录）
2. 可以避免模块名称相冲突的问题

> [!note]- 举例
> 文件结构：
> ```
> .
> ├── admin
> │   ├── __init__.py
> │   └── my_admin.py
> └── 示例10-7包的导入.py
> ```
> admin/\_\_init\_\_.py
> ```python
> print('版权：杨淑娟')
> print('讲师：ysj')
> ```
> admin/my_admin.py
> ```python
> def info():
>     print('大家好，我叫ysj，今年18岁')
> name='杨淑娟'
> ```
> 示例10-7包的导入.py
> ```python
> import admin.my_admin as a # 包名.模块名 admin是包名，my_admin是模块名 # 当我们这个包被导入的时候，__init__文件中的代码会自动被调用执行
> a.info()
> 
> print('-'*40)
> from admin import my_admin as b # from 包名 import 模块 as 别名 # 当你在导入这个包的时候，这个__init__文件当中的代码会被自动调用执行，但是只执行一次
> b.info()
> 
> print('-'*40)
> from admin.my_admin import info # from 包名.模块名 import 函数/变量等
> info()
> 
> from admin.my_admin import * # from 包名.模块名 import *
> print(name)
> ```
> 示例10-7包的导入.py的输出：
> ```
> 版权：杨淑娟
> 讲师：ysj
> 大家好，我叫ysj，今年18岁
> ----------------------------------------
> 大家好，我叫ysj，今年18岁
> ----------------------------------------
> 大家好，我叫ysj，今年18岁
> 杨淑娟
> ```

## 主程序运行：
```python
if __name__=='__main__':
	pass
```
> [!note]+ 无主程序运行的例子
> 文件结构：
> ```
> .
> ├── module_a.py
> └── module_b.py
> ```
> module_a.py
> ```python
> print('welcome to Beijing')
> name='ysj'
> print(name)
> ```
> module_b.py
> ```python
> # 导入的代码
> import module_a
> ```
> module_b.py的输出：
> ```
> welcome to Beijing
> ysj
> ```

以上无主程序运行的例子，它会把module_a当中的两句代码打印输出，如果你不希望module_a当中的这两句打印代码跟着被导入之后一起输出，那么这个时候你就可以在module_a当中去使用一个叫做**主程序运行**

> [!note]+ 有主程序运行的例子
> 文件结构：
> ```
> .
> ├── module_a.py
> └── module_b.py
> ```
> module_a.py
> ```python
> if __name__ == '__main__': # 此句代码只需输入main后再回车或tab
>     print('welcome to Beijing')
>     name='ysj'
>     print(name)
> ```
> module_b.py
> ```python
> # 导入的代码
> import module_a
> ```
> module_b.py的输出：
> ```
> ```

现在module_a把代码放到了一个叫做主程序当中运行，那么这个时候再去执行module_b的时候那两句打印输出就不会执行

**主程序运行的作用**：它阻止了全局变量的数据被输出执行
# 三、Python中常用的内置模块
在安装Python解释器时与解释器一起安装进来的模块被称为**系统内置模块**，也被称为标准模块或标准库

|标准库名称|功能描述|
|:-:|:-:|
|os模块|与操作系统和文件相关操作有关的模块|
|re模块|用于在Python的字符串中执行正则表达式的模块|
|random模块|用于产生随机数的模块|
|json模块|用于对高维数据进行编码和解码的模块|
|time模块|与时间相关的模块|
|datetime模块|与日期时间相关的模块，可以方便的显示日期并对日期进行运算|

注：re模块在[[Spaces/2-Areas/Python/第06章-字符串及正则表达式#2.re模块\|第06章-字符串及正则表达式#2.re模块]]中有介绍
## 1.random模块
**random**模块是Python中用于产生随机数的标准库

|函数名称|功能描述|
|:-:|:-:|
|seed(x)|初始化给定的随机数种子，默认为当前系统时间，如果随机数种子相同，它所产生的随机数也相同|
|random()|产生一个[0.0,1.0)之间的随机小数|
|randint(a,b)|生成一个[a,b]之间的整数|
|randrange(m,n,k)|生成一个[m,n)之间步长为k的随机整数|
|uniform(a,b)|生成一个[a,b]之间的随机小数|
|choice(seq)|从序列中随机选择一个元素|
|shuffle(seq)|将序列seq中元素随机排列，返回打乱后的序列|

> [!note]- 举例
> ```python
> # 导入
> import random
> # 设置随机数的种子
> random.seed(10)
> print(random.random()) # [0.0,1.0)
> print(random.random())
> print('-'*40)
> random.seed(10)
> print(random.randint(1,100)) # [1,100]
> 
> for i in range(10):
>     # [m,n)步长为k，m-->start-->1，n-->stop-->10，k-->step-->3
>     print(random.randrange(1,10,3)) # 这行代码被执行了10次
> 
> print(random.uniform(1,100)) # [a,b]随机小数，上面给的随机种子相同，则每次执行的结果相同
> 
> lst=[i for i in range(1,11)]
> 
> print(random.choice(lst)) # lst是列表，也是序列
> 
> # 随机排序
> random.shuffle(lst)
> print(lst)
> 
> random.shuffle(lst)
> print(lst)
> ```
> 输出：
> ```
> 0.5714025946899135
> 0.4288890546751146
> ----------------------------------------
> 74
> 1
> 4
> 4
> 7
> 1
> 1
> 4
> 4
> 4
> 7
> 81.25126013057475
> 1
> [5, 4, 10, 7, 3, 2, 1, 6, 8, 9]
> [3, 4, 5, 6, 8, 10, 7, 1, 2, 9]
> ```

## 2.time模块
time模块是Python中提供的用于处理时间的标准库，可以用来进行时间处理、时间格式化和计时等

|函数名称|功能描述|
|:-:|:-:|
|time()|获取当前时间戳|
|localtime(sec)|获取指定时间戳对应的本地时间的struct_time对象|
|ctime()|获取当前时间戳对应的易读字符串|
|strftime()|格式化时间，结果为字符串|
|strptime()|提取字符串的时间，结果为struct_time对象|
|sleep(sec)|休眠sec秒|

注：strftime()中，str表示字符串，f表示format；sleep(sec)表示程序暂停sec秒

|格式化字符串|日期/时间|取值范围|
|:-:|:-:|:-:|
|%Y|年份|0001~9999|
|%m|月份|01~12|
|%B|月名|January~December|
|%d|日期|01~31|
|%A|星期|Monday~Sunday|
|%H|小时(24h制)|00~23|
|%I|小时(12h制)|01~12|
|%M|分钟|00~59|
|%S|秒|00~59|

> [!note]- 举例
> ```python
> import time
> now=time.time()
> print(now)
> 
> obj=time.localtime() # struct_time对象
> print(obj)
> 
> obj2=time.localtime(60) # 60秒  1970年1月1日8时1分0秒
> print(obj2)
> print(type(obj2))
> print('年份:',obj2.tm_year)
> print('月份:',obj2.tm_mon)
> print('日期:',obj2.tm_mday)
> print('时:',obj2.tm_hour)
> print('分:',obj2.tm_min)
> print('秒:',obj2.tm_sec)
> print('星期:',obj2.tm_wday) # [0,6]，3表示的是星期四，2表示的是星期三
> print('今年的第几天:',obj2.tm_yday)
> print(time.ctime()) # 时间戳对应的易读的字符串 Sun Jun 22 13:38:33 2025
> 
> # 日期时间格式化
> print(time.strftime('%Y-%m-%d',time.localtime())) # str-->字符串  f-->format  time-->时间
> print(time.strftime('%H:%M:%S',time.localtime()))
> print('%B月份的名称:',time.strftime('%B',time.localtime()))
> print('%A星期的名称:',time.strftime('%A',time.localtime()))
> 
> # 字符串转成struct_time
> print(time.strptime('2008-08-08','%Y-%m-%d'))
> 
> time.sleep(20) # 程序暂停20秒
> print('helloworld')
> ```
> 输出：
> ```
> 1750571430.0066745
> time.struct_time(tm_year=2025, tm_mon=6, tm_mday=22, tm_hour=13, tm_min=50, tm_sec=30, tm_wday=6, tm_yday=173, tm_isdst=0)
> time.struct_time(tm_year=1970, tm_mon=1, tm_mday=1, tm_hour=8, tm_min=1, tm_sec=0, tm_wday=3, tm_yday=1, tm_isdst=0)
> <class 'time.struct_time'>
> 年份: 1970
> 月份: 1
> 日期: 1
> 时: 8
> 分: 1
> 秒: 0
> 星期: 3
> 今年的第几天: 1
> Sun Jun 22 13:50:30 2025
> 2025-06-22
> 13:50:30
> %B月份的名称: June
> %A星期的名称: Sunday
> time.struct_time(tm_year=2008, tm_mon=8, tm_mday=8, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=4, tm_yday=221, tm_isdst=-1)
> helloworld
> ```

## 3.datetime模块
**datetime**模块可以更方便的显示日期并对日期进行运算

|类名|功能描述|
|:-:|:-:|
|datetime.datetime|表示日期时间的类|
|datetime.timedelta|表示时间间隔的类|
|datetime.date|表示日期的类|
|datetime.time|表示时间的类|
|datetime.tzinfo|时区相关的类|

### （1）datetime类的使用
举例：
```python
from datetime import datetime # 从datetime模块中导入datetime类
dt=datetime.now()
print('当前的系统时间为:',dt)

# datetime是一个类，手动创建这个类的对象
dt2=datetime(2028,8,8,20,8)
print('dt2的数据类型',type(dt2),'dt2表示的日期时间:',dt2)
print('年:',dt2.year,'月:',dt2.month,'日:',dt2.day)
print('时:',dt2.hour,'分:',dt2.minute,'秒:',dt2.second)

# 比较两个datetime类型对象的大小
labor_day=datetime(2028,5,1,0,0,0)

national_day=datetime(2028,10,1,0,0,0)
print('2028年5月1日比2028年10月1日早吗？',labor_day<national_day) # True

# datetime类型与字符串进行转换
nowdt=datetime.now()
nowdt_str=nowdt.strftime('%Y/%m/%d %H:%M:%S')
print('nowdt的数据类型:',type(nowdt),'nowdt所表示的数据是？',nowdt)
print('nowdt_str的数据类型:',type(nowdt_str),'nowdt_str所表示的数据是？',nowdt_str)

# 字符串类型转成datetime类型
str_datetime='2028年8月8日 20点8分'
dt3=datetime.strptime(str_datetime,'%Y年%m月%d日 %H点%M分')
print('str_datetime的数据类型是:',type(str_datetime),'str_datetime所表示的数据:',str_datetime)
print('dt3的数据类型是:',type(dt3),'dt3所表示的数据:',dt3)
```
输出：
```
当前的系统时间为: 2025-06-22 14:22:38.583305
dt2的数据类型 <class 'datetime.datetime'> dt2表示的日期时间: 2028-08-08 20:08:00
年: 2028 月: 8 日: 8
时: 20 分: 8 秒: 0
2028年5月1日比2028年10月1日早吗？ True
nowdt的数据类型: <class 'datetime.datetime'> nowdt所表示的数据是？ 2025-06-22 14:22:38.583410
nowdt_str的数据类型: <class 'str'> nowdt_str所表示的数据是？ 2025/06/22 14:22:38
str_datetime的数据类型是: <class 'str'> str_datetime所表示的数据: 2028年8月8日 20点8分
dt3的数据类型是: <class 'datetime.datetime'> dt3所表示的数据: 2028-08-08 20:08:00
```

### （2）timedelta类的使用
这个类它可以很方便地在日期上去进行天、小时、分钟、秒、毫秒的加减运算，但是它不能够做年和月的加减运算，因为年和月是可变的时间，它依赖于特定的月份和年份

举例：
```python
from datetime import datetime
from datetime import timedelta
# 创建两个datetime类型的对象
delta1=datetime(2028,10,1)-datetime(2028,5,1)
print('delta1的数据类型是:',type(delta1),'delta1所表示的数据是:',delta1)
print('2028年5月1日之后的153天是:',datetime(2028,5,1)+delta1)

# 通过传入参数的方式创建一个timedelta对象
dt1=timedelta(10)
print('创建一个10天的timedelta对象',dt1)
dt2=timedelta(10,11)
print('创建一个10天11秒的timedelta对象',dt2)
```
输出：
```
delta1的数据类型是: <class 'datetime.timedelta'> delta1所表示的数据是: 153 days, 0:00:00
2028年5月1日之后的153天是: 2028-10-01 00:00:00
创建一个10天的timedelta对象 10 days, 0:00:00
创建一个10天11秒的timedelta对象 10 days, 0:00:11
```
# 四、第三方模块的安装与卸载
**第三方模块**由全球Python爱好者、程序员、各行各业的专家进行开发并进行维护

按 `Win + R` 输入 `cmd` 打开命令提示符，或使用 PowerShell，进入安装python的目录

**安装第三方模块的语法**：
```
pip install 模块名称
```
**卸载第三方模块的语法结构**：
```
pip uninstall 模块名称
```
**升级pip命令的语句结构**：
```
python -m pip install --upgrade pip
```
如：
```
pip install 模块名 http://pypi.douban.com/simple --trusted-host pypi.douban.com
```
## 注意
如果遇到连接超时的问题，可在命令中加上 `-i` 参数指定镜像源，使用国内镜像源可以加速下载。如使用清华镜像源：
```
pip install 模块名称 -i https://pypi.tuna.tsinghua.edu.cn/simple
```
其他可用镜像源：
- 阿里云：`https://mirrors.aliyun.com/pypi/simple/`
- 腾讯云：`https://mirrors.cloud.tencent.com/pypi/simple/`
- 豆瓣：`https://pypi.doubanio.com/simple/`
## 常用的第三方模块
### 1.requests模块的使用
1. 被称为requests库，是用于**处理HTTP**（Hypertext Transfer Protocol，超文本传输协议）**请求**的第三方库，该库在爬虫程序中应用非常广泛。
2. 使用requests库中的get()函数可以打开一个网络请求，并获取一个Response响应对象。响应结果中的**字符串数据**可以通过响应对象的**text属性**获取，响应结果中除了有字符串数据也有**二进制数据**，响应结果中的二进制数据可以通过响应对象的**content属性**获取

安装命令：
```
pip install requests
```
> [!note]- 爬取表格的例子
> ```python
> import requests
> import re
> url='https://www.weather.com.cn/weather1d/101010100.shtml' # 爬虫打开的浏览器上的网页
> resp=requests.get(url) # 打开浏览器并打开网址
> # 设置一下编码格式
> resp.encoding='utf-8'
> # print(resp.text) # resp响应对象，对象名.属性名   resp.text
> 
> city=re.findall('<span class="name">([\u4e00-\u9fa5]*)</span>',resp.text)
> weather=re.findall('<span class="weather">([\u4e00-\u9fa5]*)</span>',resp.text)
> wd=re.findall('<span class="wd">(.*)</span>',resp.text)
> zs=re.findall('<span class="zs">([\u4e00-\u9fa5]*)</span>',resp.text)
> # print(city)
> # print(weather)
> # print(wd)
> # print(zs)
> lst=[]
> for a,b,c,d in zip(city,weather,wd,zs):
>     lst.append([a,b,c,d])
> print(lst)
> for item in lst:
>     print(item)
> '''
> <span class="name">三亚</span>
> <span class="weather">多云</span>
> <span class="wd">33/26℃</span>
> <span class="zs">较适宜</span>
> '''
> ```
> 输出：
> ```
> [['景区', '天气', '气温', '旅游指数'], ['三亚', '小雨转雷阵雨', '33/25℃', '较适宜'], ['九寨沟', '阵雨转阴', '31/17℃', '适宜'], ['大理', '多云', '27/17℃', '适宜'], ['张家界', '小雨转中雨', '31/22℃', '适宜'], ['桂林', '阵雨转中雨', '31/24℃', '适宜'], ['青岛', '小雨', '27/23℃', '适宜']]
> ['景区', '天气', '气温', '旅游指数']
> ['三亚', '小雨转雷阵雨', '33/25℃', '较适宜']
> ['九寨沟', '阵雨转阴', '31/17℃', '适宜']
> ['大理', '多云', '27/17℃', '适宜']
> ['张家界', '小雨转中雨', '31/22℃', '适宜']
> ['桂林', '阵雨转中雨', '31/24℃', '适宜']
> ['青岛', '小雨', '27/23℃', '适宜']
> ```

> [!note]- 爬取图片的例子
> ```python
> import requests
> url='https://search-operate.cdn.bcebos.com/c63f5b937296e91b1a9a79a63328b2a6.gif'
> resp=requests.get(url)
> # 保存到本地
> with open('logo.png','wb') as file:
>     file.write(resp.content)
> ```

### 2.openpyxl模块的使用
1. openpyxl模块是用于处理Microsoft Excel文件的第三方库
2. 可以对Excel文件中的数据进行写入和读取

安装命令：
```
pip install openpyxl
```

|函数/属性名称|功能描述|
|:-:|:-:|
|load_workbook(filename)|打开已存在的表格，结果为工作簿对象|
|workbook.sheetnames|工作簿对象的sheetnames属性，用于获取所有工作表的名称，结果为列表类型|
|sheet.append(lst)|向工作表中添加一行数据，新数据接在工作表已有数据的后面|
|workbook.save(excelname)|保存工作簿|
|Workbook()|创建新的工作簿对象|

> [!note]- 将数据存储到Excel文件中的例子
> 文件结构：
> ```
> .
> ├── weather.py
> └── 示例10-18将爬取的景区天气数据存储到Excel文件中.py
> ```
> weather.py
> ```python
> import requests
> import re
> 
> # 定义函数
> def get_html():
>     url='https://www.weather.com.cn/weather1d/101010100.shtml' # 爬虫打开的浏览器上的网页
>     resp=requests.get(url) # 打开浏览器并打开网址
>     # 设置一下编码格式
>     resp.encoding='utf-8'
>     return resp.text
> 
> def parse_html(html_str):
>     city=re.findall('<span class="name">([\u4e00-\u9fa5]*)</span>',html_str)
>     weather=re.findall('<span class="weather">([\u4e00-\u9fa5]*)</span>',html_str)
>     wd=re.findall('<span class="wd">(.*)</span>',html_str)
>     zs=re.findall('<span class="zs">([\u4e00-\u9fa5]*)</span>',html_str)
>     lst=[]
>     for a,b,c,d in zip(city,weather,wd,zs):
>         lst.append([a,b,c,d])
>     return lst
> ```
> 示例10-18将爬取的景区天气数据存储到Excel文件中.py
> ```python
> import weather
> import openpyxl
> html=weather.get_html() # 发请求，得响应结果
> lst=weather.parse_html(html) # 解析数据
> # 创建一个新的Excel工作簿
> workbook=openpyxl.Workbook() # 创建对象
> # 在Excel文件中创建工作表
> sheet=workbook.create_sheet('景区天气')
> # 向工作表当中添加数据
> for item in lst:
>     sheet.append(item) # 一次添加一行
> 
> workbook.save('景区天气.xlsx')
> ```
> 示例10-18将爬取的景区天气数据存储到Excel文件中.py的输出：（在第二个工作表中）
> ![[../../../../Extras/Media/media-第10章-模块及常用的第三方模块-1.xlsx]]
> 景区天气.xlsx的缩略图：
>  ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-4.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-4.png)

> [!note]- 读取Excel文件的例子
> 文件结构：
> ```
> .
> ├── 景区天气.xlsx
> └── 示例10-19从Excel文件中读取数据.py
> ```
> 景区天气.xlsx
>  ![[../../../../Extras/Media/media-第10章-模块及常用的第三方模块-1.xlsx]]
>  景区天气.xlsx的缩略图：
>  ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-4.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-4.png)
> 示例10-19从Excel文件中读取数据.py
> ```python
> import openpyxl
> # 打开工作薄
> workbook=openpyxl.load_workbook('景区天气.xlsx')
> # 选择要操作的工作表
> sheet=workbook['景区天气']
> # 表格数据是二维列表，先遍历的是行，后遍历的是列
> lst=[] # 存储的是行数据
> for row in sheet.rows:
>     sublst=[] # 存储单元格数据
>     for cell in row: # cell单元格
>         sublst.append(cell.value)
>     lst.append(sublst)
> 
> for item in lst:
>     print(item)
> ```
> 示例10-19从Excel文件中读取数据.py的输出：
> ```
> ['景区', '天气', '气温', '旅游指数']
> ['三亚', '多云', '33/25℃', '较适宜']
> ['九寨沟', '阵雨转多云', '29/16℃', '适宜']
> ['大理', '小雨', '25/16℃', '适宜']
> ['张家界', '小雨', '30/23℃', '适宜']
> ['桂林', '中雨', '32/25℃', '一般']
> ['青岛', '阵雨转多云', '26/22℃', '适宜']
> ```

（对openpyxl模块的深入探究：看自动化办公的内容）
### 3.pdfplumber模块的使用
- pdfplumber可用于从PDF文件中读取内容

安装命令：
```
pip install pdfplumber
```
> [!note]-从PDF文件中提取数据的例子
> ```python
> import pdfplumber
> # 打开PDF文件
> with pdfplumber.open('小学数学-公式.pdf') as pdf:
>     for i in pdf.pages: # 遍历页
>         print(i.extract_text()) # extract_text()方法提取内容
>         print(f'------------------第{i.page_number}页结束')
> ```

（对pdfplumber模块的深入探究：看自动化办公的内容）
### 4.Numpy模块的使用
- Numpy是Python数据分析方向和其它库的依赖库，用于处理数组、矩阵等数据

安装命令：
```
pip install numpy
```
> [!note]- 图像的灰度处理的例子
> 文件结构：
> ```
> .
> ├── google.jpg
> └── 示例10-21图像的灰度处理.py
> ```
> google.jpg
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-1.jpg](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-1.jpg)
> 示例10-21图像的灰度处理.py
> ```python
> import numpy as np
> import matplotlib.pyplot as plt
> # 读取图片
> n1=plt.imread('google.jpg')
> print(type(n1),n1) # 数组，三维数组，最高维度表示的是图像的高，次高维度表示的是图像的宽，最低维度表示的是[R,G,B]颜色
> plt.imshow(n1)
> 
> # 编写一个灰度公式
> n2=np.array([0.299,0.587,0.114]) # 创建数组
> # 将数组 n1(RGB)颜色值与数组n2(灰度公式固定值)，进行点乘运算
> x=np.dot(n1,n2)
> # 传入数组，显示灰度
> plt.imshow(x,cmap='gray')
> # 显示图像
> plt.show()
> ```
> 示例10-21图像的灰度处理.py的输出：
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-1.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-1.png)

### 5.Pandas模块与Matplotlib模块的使用
1. Pandas是基于Numpy模块扩展的一个非常重要的数据分析模块，使用Pandas读取Excel数据更加的方便
2. Matplotlib是用于数据可视化的模块，使用Matplotlib.pyplot可以非常方便的绘制饼图、柱形图、折线图等。

安装命令：
```
pip install matplotlib
```
> [!note]- Pandas与Matplotlib绘制饼图的例子
> 文件结构：
> ```
> .
> ├── JD手机销售数据.xlsx
> └── 示例10-22Pandas与Matplotlib绘制饼图.py
> ```
> JD手机销售数据.xlsx
> ![[../../../../Extras/Media/media-第10章-模块及常用的第三方模块-2.xlsx]]
> JD手机销售数据.xlsx的缩略图：
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-3.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-3.png)
> 示例10-22Pandas与Matplotlib绘制饼图.py
> ```python
> import pandas as pd
> import matplotlib.pyplot as plt
> # 读取Excel文件
> df=pd.read_excel('JD手机销售数据.xlsx')
> # print(df)
> # 解决中文乱码
> plt.rcParams['font.sans-serif']=['SimHei']
> # 设置画布的大小
> plt.figure(figsize=(10,6))
> labels=df['商品名称']
> y=df['北京出库销量']
> # print(labels)
> # print(y)
> 
> # 绘制饼图
> plt.pie(y,labels=labels,autopct='%1.1f%%',startangle=90)
> 
> # 设置x,y轴刻度
> plt.axis('equal')
> plt.title('2028年1月北京各手机品牌出库量占比图')
> # 显示出来
> plt.show()
> ```
> 示例10-22Pandas与Matplotlib绘制饼图.py的输出：
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-2.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-2.png)

### 6.PyEcharts模块的使用
1. PyEcharts是由百度开源的数据可视化库，它对流行图的支持度比较高，它给用户提供了30多种图形，如柱形渐变图、K线周期图等
2. **中文帮助文档**：https://pyecharts.org/#/zh-cn/

**PyEcharts的使用可以分四个步骤实现**：
1. 导入pyecharts包
2. 找到相应图形模板
3. 准备相应数据
4. 对图表进行个性化修饰

安装命令：
```
pip install pyecharts
```
> [!note]- 使用模板的例子
> 此例子模板来源：[Pie - Pie_base - Document](https://gallery.pyecharts.org/#/Pie/pie_base)
> 模板：
> ```python
> from pyecharts import options as opts
> from pyecharts.charts import Pie
> from pyecharts.faker import Faker
> 
> c = (
>     Pie()
>     .add("", [list(z) for z in zip(Faker.choose(), Faker.values())])
>     .set_global_opts(title_opts=opts.TitleOpts(title="Pie-基本示例"))
>     .set_series_opts(label_opts=opts.LabelOpts(formatter="{b}: {c}"))
>     .render("pie_base.html")
> )
> ```
> 模板输出：
> ![[../../../../Extras/Media/media-第10章-模块及常用的第三方模块-1.html]]
> 模板输出的缩略图：
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-5.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-5.png)
> 修改后的输入：
> ```python
> # 导入
> from pyecharts import options as opts
> from pyecharts.charts import Pie
> from pyecharts.faker import Faker
> 
> # 准备数据
> lst=[['华为',1000],['OPPO',1200],['苹果',300],['小米',980]]
> c = (
>     Pie()
>     # .add("", [list(z) for z in zip(Faker.choose(), Faker.values())])
>     .add("",lst)
>     .set_global_opts(title_opts=opts.TitleOpts(title="2028年北京手机出库占比情况"))
>     .set_series_opts(label_opts=opts.LabelOpts(formatter="{b}: {c}"))
>     .render("phone.html")
> )
> # print([list(z) for z in zip(Faker.choose(), Faker.values())])
> ```
> 输出：
> ![[../../../../Extras/Media/media-第10章-模块及常用的第三方模块-2.html]]
> 输出的缩略图：
> ![../../../../Extras/Media/media-第10章-模块及常用的第三方模块-6.png](/img/user/Extras/Media/media-%E7%AC%AC10%E7%AB%A0-%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97-6.png)

### 7.PIL模块图像的处理
- 是用于图像处理的第三方库，它支持图像存储、处理和显示等操作
- 区分：
	- Matplotlib模块和PyEcharts模块是绘图，数据可视化的
	- PIL模块是图像处理的

安装命令：
```
pip install pillow
```
***
# 参考文献
[1] 杨淑娟.花了2万多买的Python教程全套，现在分享给大家，入门到精通(Python全栈开发教程)\_哔哩哔哩\_bilibili\[EB/OL\].\[2025-09-14\].[花了2万多买的Python教程全套，现在分享给大家，入门到精通(Python全栈开发教程)_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1wD4y1o7AS/)